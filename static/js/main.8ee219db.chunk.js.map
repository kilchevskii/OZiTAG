{"version":3,"sources":["pages/HomePage.jsx","api/index.js","pages/UserPage.jsx","App.jsx","index.js"],"names":["HomePage","authUser","validationSchema","yup","shape","email","required","password","initialValues","validateOnBlur","onSubmit","values","errors","touched","handleChange","handleBlur","isValid","handleSubmit","dirty","className","htmlFor","type","name","onChange","onBlur","disabled","onClick","instance","axios","create","baseURL","UserPage","userInfo","logObj","setLogin","token","data","accessToken","src","alt","post","headers","Authorization","then","console","log","catch","App","useState","login","user","setUser","setlogObj","obj","clientId","get","error","alert","document","createElement","innerText","body","append","setTimeout","removeChild","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8ee219db.chunk.js","sourcesContent":["import React from \"react\";\r\nimport * as yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\n\r\nconst HomePage = ({ authUser }) => {\r\n  const validationSchema = yup.object().shape({\r\n    email: yup\r\n      .string()\r\n\r\n      .required(\"Required files\"),\r\n    password: yup\r\n      .string()\r\n\r\n      .required(\"Required files\"),\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{ email: \"\", password: \"\" }}\r\n        validateOnBlur\r\n        onSubmit={(values) => {\r\n          authUser(values);\r\n        }}\r\n        validationSchema={validationSchema}\r\n      >\r\n        {({\r\n          values,\r\n          errors,\r\n          touched,\r\n          handleChange,\r\n          handleBlur,\r\n          isValid,\r\n          handleSubmit,\r\n          dirty,\r\n        }) => (\r\n          <div className=\"form\">\r\n            <div className=\"form__input-block\">\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                className={\"input\"}\r\n                type={\"text\"}\r\n                name={\"email\"}\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                values={values.email}\r\n              />\r\n            </div>\r\n            {touched.email && errors.email && (\r\n              <p className={\"error\"}>{errors.email}</p>\r\n            )}\r\n\r\n            <div className=\"form__input-block\">\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input\r\n                className={\"input\"}\r\n                type={\"password\"}\r\n                name={\"password\"}\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                values={values.password}\r\n              />\r\n            </div>\r\n            {touched.password && errors.password && (\r\n              <p className={\"error\"}>{errors.password}</p>\r\n            )}\r\n\r\n            <button\r\n              disabled={!isValid && !dirty}\r\n              onClick={handleSubmit}\r\n              type={\"submit\"}\r\n            >\r\n              Login\r\n            </button>\r\n          </div>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n  baseURL: \"https://tager.dev.ozitag.com\",\r\n});\r\n","import React from \"react\";\r\nimport { instance } from \"../api\";\r\n\r\n\r\nconst UserPage = ({ userInfo, logObj, setLogin }) => {\r\n  const token = logObj.data.accessToken;\r\n\r\n  const logOut = () => {\r\n    instance\r\n      .post(\r\n        `/api/tager/user/profile/logout`, {},\r\n\r\n        {\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        }\r\n      )\r\n      .then(({ data }) => {\r\n        console.log(data);\r\n      }).catch(setLogin(false));\r\n\r\n  };\r\n  return (\r\n\r\n    <div className=\"userform\">\r\n      <div className=\"a-box\">\r\n        <div className=\"img-container\">\r\n          <div className=\"img-inner\">\r\n            <div className=\"inner-skew\">\r\n              <img src=\"https://audioportal.su/diy/wp-content/uploads/2020/10/man.png\" alt='user-avatar'></img>.\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"text-container\">\r\n          <h3>Name: {userInfo.data.name}</h3>\r\n          <p>\r\n            E-mail: {userInfo.data.email}\r\n          </p>\r\n        </div>\r\n\r\n        <button onClick={logOut}>Logout</button>\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default UserPage;\r\n","import React, { useState } from \"react\";\r\n\r\nimport HomePage from \"./pages/HomePage\";\r\nimport UserPage from \"./pages/UserPage\";\r\nimport { instance } from \"./api\";\r\n\r\nconst App = () => {\r\n  const [login, setLogin] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [logObj, setlogObj] = useState(null);\r\n\r\n  const authUser = (obj) => {\r\n    instance\r\n      .post(`/api/auth/user`, {\r\n        clientId: 1,\r\n        email: obj.email,\r\n        password: obj.password,\r\n      })\r\n      .then(({ data }) => {\r\n        const token = data.data.accessToken;\r\n\r\n        instance\r\n          .get(`/api/tager/user/profile`, {\r\n            headers: {\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n          .then(({ data }) => {\r\n\r\n            setUser(data);\r\n            setLogin(true);\r\n          });\r\n        return data;\r\n      })\r\n      .then((data) => {\r\n        setlogObj(data);\r\n      })\r\n      .catch((error) => {\r\n        let alert = document.createElement(\"div\");\r\n        alert.className = \"alert-rus\";\r\n        alert.innerText = \"Email or password is incorrect\";\r\n        document.body.append(alert);\r\n        setTimeout(() => {\r\n          document.body.removeChild(alert);\r\n        }, 2000);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      {login ? (\r\n        <UserPage userInfo={user} logObj={logObj} setLogin={setLogin} />\r\n      ) : (\r\n        <HomePage authUser={authUser} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'normalize.css';\r\nimport './index.scss';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n\r\n  <App />\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}